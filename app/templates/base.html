<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Наклейки за копейки</title>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">

    </head>
    <body>
    <header>
        <div class="logo">
            <img src="{{ url_for('static', filename='imgs/logo.gif') }}" alt="логотип" height="80px" width="80px">

            <nav>
                <a href="{{ url_for('site.main_page') }}"><h2>Главная</h2></a>
                <a id="catalog-link" onmouseover="showMenu()" onmouseout="scheduleHideMenu()"><h2>Каталог</h2></a>
                {% if current_user.is_authenticated %}
                    <a href="{{ url_for('site.cart') }}"><h2>Корзина</h2></a>
                    <a href="{{ url_for('log.profile') }}"><h2>Профиль</h2></a>
                    <a href="{{ url_for('log.logout') }}"><h2>Выйти</h2></a>
                {% else %}
                    <a href="{{ url_for('log.login') }}"><h2>Войти</h2></a>
                {% endif %}
            </nav>
            <div class="dropdown-menu" id="dropdown-menu"
                 onmouseover="keepMenuVisible()" onmouseout="scheduleHideMenu()">
                <ul>
                    <li>Наклейки
                        <ul>
                            <li><a href="{{ url_for('site.catalog', category='Стикерпак') }}">Стикерпаки</a></li>
                            <li>Автомобильные наклейки</li>
                            <li>Интерьерные наклейки</li>
                            <li>3D стикеры</li>
                        </ul>
                    </li>
                    <li>Акриловая продукция
                        <ul>
                            <li>Фигурки</li>
                            <li>Брелки</li>
                            <li>Значки</li>
                        </ul>
                    </li>
                    <li>Для банковских карт
                        <ul>
                            <li>Наклейки на банковские карты</li>
                            <li>Голографические наклейки на банковские карты</li>
                            <li>Картхолдеры</li>
                        </ul>
                    </li>
                    <li>Прочее
                        <ul>
                            <li>Наклейки с пленкой для переноса</li>
                            <li>Слайдеры на ногти</li>
                            <li>Обложки на паспорт</li>
                            <li>Тканевые баннеры</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </header>
    <script>
        const dropdownMenu = document.getElementById("dropdown-menu");
        let hideTimeout;

        function showMenu() {
            clearTimeout(hideTimeout); // Отменить запланированное скрытие
            dropdownMenu.style.display = "block";
        }

        function scheduleHideMenu() {
            hideTimeout = setTimeout(() => {
                dropdownMenu.style.display = "none";
            }, 300); // Задержка перед скрытием, чтобы пользователь успел навести на меню
        }

        function keepMenuVisible() {
            clearTimeout(hideTimeout); // Отменить запланированное скрытие при наведении на меню
        }
    </script>
    <main>
        <!-- Блок для отображения flash-сообщений -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </main>
    </body>
</html>